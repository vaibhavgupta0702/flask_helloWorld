stages:
  - test
  - deploy
language: python
python:
  - "3.6"
env:
  - PORT=8080
cache: pip

jobs:
  include:
    - stage: test
      install: 
        - pip install -r requirements.txt
        - pip install -r tests/requirements_test.txt
      script: 
        - python hello.py &
        - python tests/test.py
    - stage: deploy
      provider: cloudfoundry
      username: vaibhavgupta0702@gmail.com
      password: 01011956@Dad
      api: https://api.run.pivotal.io
      organization: myorganisation
      space: staging
